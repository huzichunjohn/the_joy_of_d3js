<html>
  <head>
    <script type="text/javascript" src="./d3.v3.min.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      var width = 500,
         height = 400,
         data1 = [
          {id:1, region:'africa', population:10000,x:163,y:10},
          {id:2, region:'asia',   population:20000,x:326,y:140},
         ],
         data2 = [
           {id:2,region:'asia', population:30000,x:400,y:340},
           {id:3,region:'europe', population:15000,x:290,y:280}
         ];

      var svg = d3.select("body").append("svg")
         .attr({
           class:"svg", 
           width:width, 
           height:height
          })

      var color = d3.scale.category10()
      var radius = d3.scale.linear().domain([10000,30000]).range([10,30])

      var chart = function(data){
        var circle = svg.selectAll("circle")
            .data(data, function(d){return d.id})

        circle.enter().append("circle")
          .attr("cx", function(d){return d.x})
          .attr("cy", function(d){return d.y})
          .attr("r", 0)
          .style("fill", function(d){return color(d.id)})

        circle.transition().duration(2000)
          .attr("cx", function(d){return d.x})
          .attr("cy", function(d){return d.y})
          .attr("r",  function(d){return radius(d.population)})

        circle.exit()
          .remove()
      }
      chart(data1)
      // chart(data2)
    </script>
  </body>
</html>
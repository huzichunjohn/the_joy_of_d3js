<html>
  <head>
    <script type="text/javascript" src="./d3.v3.min.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      var width = 500,
         height = 400,
         year1 = [
          {id:1, region:'africa', population:10000,lifeExpectancy:163,income:10},
          {id:2, region:'asia',   population:20000,lifeExpectancy:326,income:140},
         ],
         year2 = [
           {id:2,region:'asia', population:30000,lifeExpectancy:400,income:140},
           {id:3,region:'europe', population:15000,lifeExpectancy:290,income:160}
         ];

      var svg = d3.select("body").append("svg")
         .attr({
           class:"svg", 
           width:width, 
           height:height
          })

      var color = d3.scale.category10()
      var radius = d3.scale.linear().domain([10000,30000]).range([10,30])
      var x = d3.scale.linear()
          .domain([0, 400])
          .range([0, width - 100]);

      var y = d3.scale.linear()
        .domain([0,200])
        .range([0, width - 100])




      var chart = function(data){
        var circle = svg.selectAll("circle")
            .data(data, function(d){return d.id})

        circle.enter().append("circle")
          .attr("cx", function(d){return x(d.lifeExpectancy)})
          .attr("cy", function(d){return y(d.income)})
          .attr("r", 0)
          .style("fill", function(d){return color(d.id)})

        circle.transition().duration(2000)
          .attr("cx", function(d){return x(d.lifeExpectancy)})
          .attr("cy", function(d){return y(d.income)})
          .attr("r",  function(d){return radius(d.population)})

        circle.exit()
          .remove()
      }
      chart(year1)
      // chart(year2)
    </script>
  </body>
</html>